import{_ as E,r as p,u as _,o as N,c as w,w as o,a as e,b as a,I as k,d as S,e as A,f as B,g as R,h as H,i as C,j as D,k as d,l as s,m as M,n as P,p as K}from"./index-DfDfeG0l.js";import{g as L,a as W,b as j}from"./utils-C178nF9D.js";const F={__name:"HomePage",setup(q){const V=p(!1),v=p(null),c=p(null),y=p(!1);y.value=!1;const n=_(),I=n.state.mainExcel,b=n.state.itemExcel;n.commit("setInvoiceNumber",L(new Date));const m=n.state.employee,r=n.state.company,f=p(null),i=p(null),U=u=>{setTimeout(()=>{u.target.complete()},2e3)},T=()=>{n.dispatch("actionRemoveItemsKitchen"),v.value=W(new Date(i.value),new Date(f.value)),v.value.forEach(u=>{const l={id:null,date:u.date,room:u.room,type:"1",description:u.description,time:"",amount:u.amount};n.commit("setItem",l),n.commit("SetNewItem",b),n.dispatch("calculateTotal")})},x=()=>{c.value=j(new Date(i.value),new Date(f.value)),c.value.forEach(u=>{const l={id:null,date:u.date,room:u.room,type:"1",description:u.description,time:"",amount:u.amount};n.commit("setItem",l),n.commit("SetNewItem",b),n.dispatch("calculateTotal")})},g=()=>{n.commit("setStartDate",i.value),n.commit("setEndDate",f.value),n.commit("setInvoiceNumber",new Date(i.value||Date())),V.value=!0,(!i.value||!f.value)&&(V.value=!1);const u=new Date(i.value),l=new Date(f.value);(isNaN(u.getTime())||isNaN(l.getTime()))&&(V.value=!1),u>=l&&(V.value=!1),V.value&&(console.log("ass"),T(),x())};return(u,l)=>(N(),w(e(K),null,{default:o(()=>[a(e(B),null,{default:o(()=>[a(e(k),null,{default:o(()=>[a(e(S),null,{default:o(()=>[A("Make your invoice")]),_:1})]),_:1})]),_:1}),a(e(P),{class:"ion-padding"},{default:o(()=>[a(e(R),{slot:"fixed",onIonRefresh:l[0]||(l[0]=t=>U(t))},{default:o(()=>[a(e(H))]),_:1}),a(e(C),{class:"ion-padding"},{default:o(()=>[a(e(D),null,{default:o(()=>[a(e(d),null,{default:o(()=>[a(e(s),{label:"Name",modelValue:e(m).name,"onUpdate:modelValue":l[1]||(l[1]=t=>e(m).name=t),readonly:!0},null,8,["modelValue"])]),_:1}),a(e(d),null,{default:o(()=>[a(e(s),{label:"Last name",modelValue:e(m).lastname,"onUpdate:modelValue":l[2]||(l[2]=t=>e(m).lastname=t),readonly:!0},null,8,["modelValue"])]),_:1}),a(e(d),null,{default:o(()=>[a(e(s),{label:"ABN",modelValue:e(m).abn,"onUpdate:modelValue":l[3]||(l[3]=t=>e(m).abn=t),readonly:!0},null,8,["modelValue"])]),_:1}),a(e(d),null,{default:o(()=>[a(e(s),{label:"Start",type:"date",modelValue:i.value,"onUpdate:modelValue":l[4]||(l[4]=t=>i.value=t),onChange:g},null,8,["modelValue"])]),_:1}),a(e(d),null,{default:o(()=>[a(e(s),{label:"End",type:"date",modelValue:f.value,"onUpdate:modelValue":l[5]||(l[5]=t=>f.value=t),onChange:g},null,8,["modelValue"])]),_:1}),a(e(d),null,{default:o(()=>[a(e(s),{label:"BSB",modelValue:e(m).bsb,"onUpdate:modelValue":l[6]||(l[6]=t=>e(m).bsb=t),readonly:!0},null,8,["modelValue"])]),_:1}),a(e(d),null,{default:o(()=>[a(e(s),{label:"ACC",modelValue:e(m).acc,"onUpdate:modelValue":l[7]||(l[7]=t=>e(m).acc=t),readonly:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),y.value?(N(),w(e(C),{key:0,class:"ion-padding"},{default:o(()=>[a(e(D),null,{default:o(()=>[a(e(d),null,{default:o(()=>[a(e(s),{label:"To",modelValue:e(r).name,"onUpdate:modelValue":l[8]||(l[8]=t=>e(r).name=t),readonly:!0},null,8,["modelValue"])]),_:1}),a(e(d),null,{default:o(()=>[a(e(s),{label:"Address",modelValue:e(r).address,"onUpdate:modelValue":l[9]||(l[9]=t=>e(r).address=t),readonly:!0},null,8,["modelValue"])]),_:1}),a(e(d),null,{default:o(()=>[a(e(s),{modelValue:e(r).city,"onUpdate:modelValue":l[10]||(l[10]=t=>e(r).city=t),readonly:!0},null,8,["modelValue"])]),_:1}),a(e(d),null,{default:o(()=>[a(e(s),{modelValue:e(r).stateA,"onUpdate:modelValue":l[11]||(l[11]=t=>e(r).stateA=t),readonly:!0},null,8,["modelValue"])]),_:1}),a(e(d),null,{default:o(()=>[a(e(s),{modelValue:e(r).postcode,"onUpdate:modelValue":l[12]||(l[12]=t=>e(r).postcode=t),readonly:!0},null,8,["modelValue"])]),_:1}),a(e(d),null,{default:o(()=>[a(e(s),{modelValue:e(I).invoiceNumber,"onUpdate:modelValue":l[13]||(l[13]=t=>e(I).invoiceNumber=t),readonly:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):M("",!0)]),_:1})]),_:1}))}},J=E(F,[["__scopeId","data-v-2fa0003e"]]);export{J as default};
